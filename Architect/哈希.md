# 哈希
<!-- @author DHJT 2019-09-05 -->

哈希函数（Hash Function），也称为散列函数或杂凑函数。哈希函数是一个公开函数，可以将任意长度的消息M映射成为一个长度较短且长度固定的值H（M），称H（M）为哈希值、散列值（Hash Value）、杂凑值或者消息摘要（Message Digest）。它是一种单向密码体制，即一个从明文到密文的不可逆映射，只有加密过程，没有解密过程。

### hash函数具有如下特点。
- 易压缩：对于任意大小的输入x，Hash值的长度很小，在实际应用中，函数H产生的Hash值其长度是固定的。
- 易计算：对于任意给定的消息，计算其Hash值比较容易。
- 单向性：对于给定的Hash值，要找到使得在计算上是不可行的，即求Hash的逆很困难。在给定某个哈希函数H和哈希值H（M）的情况下，得出M在计算上是不可行的。即从哈希输出无法倒推输入的原始数值。这是哈希函数安全性的基础。
- 抗碰撞性：理想的Hash函数是无碰撞的，但在实际算法的设计中很难做到这一点。有两种抗碰撞性：
    + 一种是弱抗碰撞性，即对于给定的消息，要发现另一个消息，满足在计算上是不可行的；
    + 另一种是强抗碰撞性，即对于任意一对不同的消息，使得在计算上也是不可行的。
- 高灵敏性：这是从比特位角度出发的，指的是1比特位的输入变化会造成1/2的比特位发生变化。消息M的任何改变都会导致哈希值H（M）发生改变。即如果输入有微小不同，哈希运算后的输出一定不同。

一个可靠的哈希算法，应该满足：

- 对于给定的数据M,很容易算出哈希值X=F(M);
- 根据X很难反算出M;
- 很难找到M和N使得F(N)=F(M)
- 前面提到哈希函数具有抗碰撞性，碰撞性就是指有人实现找出一奇一偶使得哈希结果一致，但这在计算上是不可行的。

#### 哈希函数的构造方法[^1]
1. 直接定址法
2. 数字分析法
3. 折叠法
4. 平方取中法
5. 减去法
6. 基数转换法
7. 除留余数法
8. 随机乘数法
9. 字符串数值哈希法
10. 旋转法
11. 伪随机数法

### 哈希碰撞（hash冲突）
具有相同关键字的key1和key2称之为同义词。
通过优化哈希函数可以减少这种冲突的情况（如：均衡哈希函数），但是在通用条件下，考虑到于表格的长度有限及关键值（数据）的无限，这种冲突是不可避免的，所以就需要处理冲突。

冲突处理分为以下四种方式：

- 开放地址
    + 线性探测再散列
    + 二次探测再散列
    + 伪随机探测再散列
- 再哈希
- 链地址法
- 公共溢出区法


[^1]: [哈希函数的构造方法](https://www.cnblogs.com/gj-Acit/archive/2013/05/06/3062628.html)